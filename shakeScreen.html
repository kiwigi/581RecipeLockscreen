<!doctype html>
<html>
  <head>

    <link rel="stylesheet" href="stylesheet.css">
    <title>Recipe Lockscreen</title>

  </head>
  
  
  <body>
    <!-- <script src="shake.js"></script>
    <script>
    var myShakeEvent = new Shake({
        threshold: 15, // optional shake strength threshold
        timeout: 1000 // optional, determines the frequency of event generation
    });

    // Start listening to device motion
    myShakeEvent.start(); 

    // Register a shake event listener on window with your callback
    window.addEventListener('shake', shakeEventDidOccur, false); 

    //function to call when shake occurs
    function shakeEventDidOccur () {

        //put your own code here etc.
        alert('shake!');
    }
    </script> -->
    <script>
    function getAccel(){
    DeviceMotionEvent.requestPermission().then(response => {
        if (response == 'granted') {
        // Add a listener to get smartphone acceleration 
            // in the XYZ axes (units in m/s^2)
            window.addEventListener('devicemotion', (event) => {
                console.log(event);
            });
       // Add a listener to get smartphone orientation 
           // in the alpha-beta-gamma axes (units in degrees)
            window.addEventListener('deviceorientation',(event) => {
                console.log(event);
            });
        }
    });
}
        if (typeof window.DeviceMotionEvent != 'undefined') {
    // Shake sensitivity (a lower number is more)
    var sensitivity = 20;

    // Position variables
    var x1 = 0, y1 = 0, z1 = 0, x2 = 0, y2 = 0, z2 = 0;

    // Listen to motion events and update the position
    window.addEventListener('devicemotion', function (e) {
        x1 = e.accelerationIncludingGravity.x;
        y1 = e.accelerationIncludingGravity.y;
        z1 = e.accelerationIncludingGravity.z;
    }, false);

    // Periodically check the position and fire
    // if the change is greater than the sensitivity
    setInterval(function () {
        var change = Math.abs(x1-x2+y1-y2+z1-z2);

        if (change > sensitivity) {
            alert('Shake!');
        }

        // Update new position
        x2 = x1;
        y2 = y1;
        z2 = z1;
    }, 150);
}
    </script>
    
    <div class="screen">
      <p class="sTitle">Shake device to mix!</p>
      
      <img class='lock'src='assets/lock.png'/>
       <div class="bobaContainer">
        
        <img class="boba2"src='assets/emptyBobaCup.png'/>
        <button id="accelPermsButton"  class="button-64" onclick="getAccel()"><p>If you're on iOS, please click here to enable permissions!</p></button>
        <div class="indicatorDot" style="left:30%; top:30%;"></div>
        <p class="mixLvl">Mix Level:</p>
        <progress class ='bar'id="file" value="50" max="100"> 50% </progress>

        
       </div> 
    </div>
    

  </body>

</html>